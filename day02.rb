# Answer to Question 1:
identifiers = ["fzostwblnqkhpuzxirnevmaycq","fzastwblgqkupujxirnevmaucd","fzostwbxgakhpujxirnevmayci","uzosmwblgqkhlujxirnevmaycd","bzostwblgqkhpujxirnenfaycd","fzostwblghkhpujxibneemaycd","fzostwblgrkkpujxirnevqaycd","fzostwblgqkhpkjxirqkvmaycd","fzostwblgqdxpujbirnevmaycd","fzostwblgykhfujxirfevmaycd","fzostwbvgskhpujxirnevmagcd","flostwblgokhpuixirnevmaycd","fzostwblgzkhppjxirnevxaycd","ftosuwblgqkhpujxirnevmeycd","fzostkblgqkzpujxirnrvmaycd","fuostwbugqkhnujxirnevmaycd","frostwblgqkhpujsirneamaycd","bzostwblgqkhpajxirnevmuycd","fzysttbluqkhpujxirnevmaycd","czostgblgqkhpujxirnevmgycd","fzostwbcgqkhpujxirnevmavcr","vzostwbdgqrhpujxirnevmaycd","fzostwblgxkhpujxirnekmdycd","fzostwblgdkspzjxirnevmaycd","fzoqtwblgquhpujxirnevkaycd","fzostwblgqjhfujxirnevmayzd","fyostwblgtkhpujxilnevmaycd","izostwblzqkhpupxirnevmaycd","fzoaurblgqkhpujxirnevmaycd","fzostjblgqkhpbjxirbevmaycd","fzostwblgqkhpujmirngvmayca","fxostwbhgqkhiujxirnevmaycd","fzostwblngkhpujxirnemmaycd","fzosgwblgqkhpujxirnlvqaycd","bpostwblgqkhxujxirnevmaycd","fzhstwblgqshpujxirnepmaycd","fzootwbegqkhwujxirnevmaycd","fzmstwblgqkhmujxirnevsaycd","fzostwolgqkhpujxirnevmaysp","foostwblgqohpujxirnevmayyd","fzostwblgqkhgujxgrnevqaycd","fzostwbltqkhjujxipnevmaycd","fsostwblgqkhfujxirnevmayck","fzostwmlgqkbpujxifnevmaycd","fdostwblgqkhsujxirnecmaycd","fzostwblgquhpejxiinevmaycd","fzoqtwblgqkhkujxirnevmaywd","fzostwblmqkmpujxirnyvmaycd","fzjstwblgqkhpuyxirneomaycd","fzortwblgqkhpzjxprnevmaycd","fzosnwulgqkhpujxirnevpaycd","fzostwbegqkvpujxirnevmaykd","fzostwylzqkypujxirnevmaycd","fioshwblgqehpujxirnevmaycd","fzostwbliqkhoujxirnesmaycd","fzostwblgqkhpujdirnelmqycd","fzmstwblgqkhpujxirnnvpaycd","fzostwbtgqkhcujxirnevmaycz","fzostwblgqkfpujeignevmaycd","fzostwbegqkhpuvxirndvmaycd","fzostwblgqkcpujxmrnevmaycp","fvostwblgqkhpyjxirnevmaycx","fzostwblgqkhpufxirnevmzacd","fzisjwblglkhpujxirnevmaycd","fzosowbliqkhgujxirnevmaycd","fzostwblgqkhpujxirnyvmaywl","fzostwbllqnzpujxirnevmaycd","fzostwblgquhpujxirneomayci","fzostwblgqjepujximnevmaycd","fzostwblgqrhbujxijnevmaycd","fzostoblgqkhpujxirnevmoynd","fzortwblgqkhpujxixnevjaycd","fzostwhlgqkapujxirnevmaych","fzostwblgakhpujxirnevfayct","faostwblgqohpljxirnevmaycd","fzostwbhgqkhpujxirnyvcaycd","fjostwblgqkhpwjxirnevjaycd","fzostwblgqklpuixirnevmayxd","fzostwblgqkhhujxirncvmayce","fzostwblzqkhpzjxkrnevmaycd","fzostwblqqkbpujxirnevmcycd","ffostwblxqkhpujxirnevmayxd","fzostwblgqkhpbuxirnefmaycd","szostiblgqkhpujxirnevoaycd","fhlstwblgqkhpujxirnevmaycb","fzostwblgwfhpujxirnevmayed","fyostwblgqkhzujxirnevmayjd","fzostwblgqkvrujxirnevmaucd","fzestwblghkhpujxirnevmaycq","foostwbkgqkhhujxirnevmaycd","fpxstwblgqkhpujxirzevmaycd","fsostwtlgqmhpujxirnevmaycd","feostwelgqkhpumxirnevmaycd","fzostwbvgqkhpujkirnevmayce","fzmsewblgqahpujxirnevmaycd","fzsstsblgkkhpujxirnevmaycd","fzostwblgqkhxajxirneumaycd","fzostwblmqkhpujyisnevmaycd","gzostwblgqkhphjxirnevmavcd","fzostwblgckgpujxirnzvmaycd","qzostdblgqkhpujxirnevmaywd","fzoshwblgskhpufxirnevmaycd","fzosdwblgqkhpujkirnevjaycd","fzvstwblgqkhpuixdrnevmaycd","szostwblgqxhpujeirnevmaycd","fzosvwblgtkhpujxirnevmoycd","fzoscwblgqkkpujxirnevmvycd","fzostsblgqnlpujxirnevmaycd","fzostwblgmkhpujxlrnevjaycd","fzosnwblgqklpugxirnevmaycd","fcostwblgqpmpujxirnevmaycd","ozostwblgbkhpujxirnevmafcd","fzostwbagqkhiujxirneemaycd","fzosxwblgqkhpumxirneymaycd","fpostkblgqkhpujxianevmaycd","fzostwblgvkhhujxirnevmaycl","fzobtwtlgqkhpuwxirnevmaycd","fzostwvwgqkhpujxirtevmaycd","xzostwglgqkhpujtirnevmaycd","fzostwblgvkhtujxirnzvmaycd","jzostwblgqkhpujxirrevmvycd","pzostwbagqkhpujxirnevjaycd","fzostwclgqkhpujxirnhvmeycd","fzostwblglkhpujxirnevmayrf","fzoskwblnqkhpujxirnevmaysd","fzostbblgqkhpujxirnevmjycw","fzostwblggobpujxirnevmaycd","fzostwblgckhpijxirnevmayxd","fiostwrlgqkhpujxirnevmayck","frfstwblvqkhpujxirnevmaycd","fzowvwblgqkhpujsirnevmaycd","fzostwblgquhgujxirnevmiycd","fzoztwblgqkhpujxvrnevmaycj","fzostnbtgqkhpujxixnevmaycd","fzfstwblgjkrpujxirnevmaycd","fzostwblpqkhpdrxirnevmaycd","fivstwblgqkhpuixdrnevmaycd","fzostwbpgqkhpdjxirnewmaycd","fzostwblgqkhpdjxsrngvmaycd","fzostwblsqkhpujxisnxvmaycd","fcosvwblgqkhpujxirnevmavcd","fzostwrlgekhgujxirnevmaycd","fzostwblgqkhpujxindeimaycd","uzostwblgqshpujxirnevmwycd","fzostwzliqkhpujxirnevmaycu","zzostwbtgqkhpijxirnevmaycd","fzoltwblgqkhpujxinncvmaycd","fzostwblgqkzpujxprnevmayhd","fqostwblgqkhpujrirnevmzycd","jzostwblgqkhpuzxkrnevmaycd","fzostwblgqkhpuwxirszvmaycd","fzostwblgqkhpxjxilnevdaycd","fpmstwblgqkhpujxirnwvmaycd","fzoejwblqqkhpujxirnevmaycd","fzostwblgkshzujxirnevmaycd","fzoatqblgqxhpujxirnevmaycd","fzostwblgpkhpujiipnevmaycd","fzostwblgqghpujgbrnevmaycd","izosowblgqkhpujxirnejmaycd","fzostwblgqthpujxjrnevmalcd","fzovtwbcgqkhpujxicnevmaycd","fzoatwblgqkhpujxidntvmaycd","kzpstwblgqihpujxirnevmaycd","fzosawnlgqkhpujxibnevmaycd","fzostwblgqkhpujxarnevdajcd","bzostwblgqkhpujxvrnevmrycd","fzostwblgqkhpwfxirnevmazcd","fzostwblgqknpujyiqnevmaycd","zzostwblgqkhpujyirneqmaycd","flosiwblgqihpujxirnevmaycd","fzoetwblgqkhxujxirnevmeycd","fznstwbugqkhpujxibnevmaycd","fzbstwblgqkhpudxitnevmaycd","fzostwblgqkhkujxirnexaaycd","fzohthblgqkhpujxiknevmaycd","fzostwblgqkhpujxirnevvayjt","fzostwblggkhpujxirnrvqaycd","fzostwblgqslpujxirnevmaysd","aoostwblgqkhpnjxirnevmaycd","fzostwblgqkhlutxirnevuaycd","fxostwbugqkhpujxirnexmaycd","fzoftwblgqkhpsjxirnevmaywd","fzbstwblgqkhndjxirnevmaycd","fzostwblgqkhpxjxipnlvmaycd","fzostwbloqkhowjxirnevmaycd","fzostwblgqkcpdjxirnevnaycd","vzostiblgqkhpsjxirnevmaycd","fzostwblgqkhazjxirnevmaycg","fzostaklgqkhpujxirnevmaypd","fzostwblgkkhppjxirnevpaycd","izostwblgqkhpujairhevmaycd","fzostwdlgqkhpuqxzrnevmaycd","fzostwblgqkepujxernevmayct","fzostdblgqkhpujxyrnehmaycd","fzostwblgqkhsujxirnenfaycd","fzostwblgqkhpujxifnevmajld","fzostwblgokhpujxirxemmaycd","fzastwblcqkhpujxiruevmaycd","fzostwsxgqkhpuexirnevmaycd","xzosxwblgqkhpujxirnetmaycd","fzostwblgqkhpuexirnevmkccd","fzostwblgqklpujxirnermfycd","fzoetwblgqkhpujxirnehhaycd","ffostwblgvkhpujxirnevmazcd","fcosywblgqkhpujxirnevmaycy","fzmstwblgqkhpujxdrnevmaycl","fpostwblgqahpujxirnqvmaycd","fzostwbmgqkhpulxornevmaycd","fzostwblgqkopujxqrnevmrycd","fzostwblgqkhpujxisnevmjgcd","fzogtwulfqkhpujxirnevmaycd","fzostwalgqkhpcjxirnevmayud","fzosxwblgqkhpujxirnevmasmd","fzostwblgrkowujxirnevmaycd","fzostsblgqkhpujxirnevmsccd","fzostwblgqkhpujxfrnnvmaocd","fzostwblgqkhpujxiynsvkaycd","fzosowblgqkhpwjxirnevmaecd","fzosgwblgfkhpujxyrnevmaycd","fzostsblgzkhpujmirnevmaycd","fzostwblrqkhyuixirnevmaycd","qzostwblgqkhpujxyrnevmvycd","lzostwblgqkhpujxirqevmaymd","fzostwblgqkbpujxirnefbaycd","fzostwblgmihpujxirnevmafcd","fzostmblgqkhpujxirnevmpynd","fzoltwblgqkhpujlihnevmaycd","fzostwblgqkhpujdirneviyycd","fzgspwblgqkhpqjxirnevmaycd","fzostwblgqkhtujkirnevmayld","fjostwblgqkhpagxirnevmaycd","fzpsthblgqkhpuzxirnevmaycd","fzostwblgqkhpuhxzrneymaycd","fzoftwblgqkepujxirnevcaycd","fzostwblgqkbpyjxipnevmaycd","fzostwqlgqkhpujxirjevmayad","fzoxtwblgqkypupxirnevmaycd","fzostwblgqwhpuoxiynevmaycd","fzostwblgqkhpfjkirnevmavcd","fzoqtwblgqkhpujxirnermaycp","fzostwbngxkhpujxirnevmayqd","fzostwqogqkhpcjxirnevmaycd","fzostwblyqkhpujxvrnevmayzd","vzostwblgqkhpujxirnevmlzcd","fzostwblaqkhpujxirnevbajcd","fdostwblgqkhpujxzrnevmayod","fzostxbloqkhpujxirnevmcycd","fzostwbcgqkhpyjxirnegmaycd","fzostwblgqkhpuyxirnzrmaycd","fzustwycgqkhpujxirnevmaycd"]
identifiers = identifiers.map(&:chars).sort

id_counts = identifiers.map {|id| Hash[id.uniq.zip(id.uniq.map {|char| id.count char })]}

twos_and_threes = id_counts.reduce(twos: 0, threes: 0) do |memo, id|
  memo[:twos] += 1 if id.values.include?(2)
  memo[:threes] += 1 if id.values.include?(3)
  memo
end

puts twos_and_threes.values.reduce(&:*)

# Answer to Question 2

def diff_count first, second
  first.each_index.reduce(0) do |diff_count, i|
    first[i] == second[i] ? diff_count : diff_count + 1
  end
end

catch :outer do
  identifiers.each_index do |outer_index|
    identifiers.each_index do |inner_index|
      next if identifiers[outer_index + inner_index + 1].nil?
      puts "outer: #{outer_index}\t inner: #{inner_index}"
      first, second = identifiers[outer_index], identifiers[outer_index + inner_index + 1]

      if diff_count(first, second) == 1
        puts "1st: #{first.join}\n2nd: #{second.join}"
        throw :outer
      end
    end
  end
end
